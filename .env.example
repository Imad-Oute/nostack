# ============================================================================
# NoStack - Environment Configuration
# ============================================================================
# Copy this file to .env and update with your actual values
# DO NOT commit .env to version control!
# ============================================================================

# ----------------------------------------------------------------------------
# Global Project Settings
# ----------------------------------------------------------------------------
PROJECT_NAME=nostack
TIMEZONE=UTC

# ----------------------------------------------------------------------------
# PostgreSQL Configuration
# ----------------------------------------------------------------------------
# Main PostgreSQL database with pgvector extension
# Used by: n8n, Flowise, Zep, OpenWebUI, Langflow

POSTGRES_USER=postgres
POSTGRES_PASSWORD=change_this_password_in_production
POSTGRES_DB_MAIN=maindb
POSTGRES_HOST=postgres
POSTGRES_PORT=5435

# Note: Individual databases (n8n, flowise, zep, openwebui, langflow) 
# are created automatically by init-db.sh

# ----------------------------------------------------------------------------
# Redis Configuration
# ----------------------------------------------------------------------------
# In-memory cache and message broker

REDIS_PASSWORD=change_this_redis_password
REDIS_HOST=redis
REDIS_PORT=6380

# ----------------------------------------------------------------------------
# Flowise Configuration
# ----------------------------------------------------------------------------
# LLM orchestration and chatflow builder
# Web UI: http://localhost:3002

FLOWISE_USERNAME=admin
FLOWISE_PASSWORD=change_this_flowise_password
FLOWISE_DB_HOST=postgres
FLOWISE_DB_PORT=5432
FLOWISE_DB_USER=postgres
FLOWISE_DB_PASSWORD=change_this_password_in_production
FLOWISE_DB_NAME=flowise
FLOWISE_PORT=3002

# ----------------------------------------------------------------------------
# Zep Configuration
# ----------------------------------------------------------------------------
# Long-term memory for AI assistants
# API: http://localhost:8002

ZEP_DB_HOST=postgres
ZEP_DB_PORT=5432
ZEP_DB_USER=postgres
ZEP_DB_PASS=change_this_password_in_production
ZEP_DB_NAME=zep
ZEP_API_KEY=change_this_zep_api_key
ZEP_PORT=8002

# ----------------------------------------------------------------------------
# Qdrant Configuration
# ----------------------------------------------------------------------------
# Vector database for embeddings and semantic search
# Dashboard: http://localhost:6334/dashboard

QDRANT_HOST=qdrant
QDRANT_PORT=6334

# ----------------------------------------------------------------------------
# Neo4j Configuration
# ----------------------------------------------------------------------------
# Graph database for knowledge graphs
# Browser: http://localhost:7475

# Format: username/password
NEO4J_AUTH=neo4j/change_this_neo4j_password
NEO4J_HTTP_PORT=7475
NEO4J_BOLT_PORT=7688

# ----------------------------------------------------------------------------
# OpenWebUI Configuration
# ----------------------------------------------------------------------------
# Chat interface backend
# Web UI: http://localhost:3005

OPENWEBUI_PORT=3005
OPENWEBUI_DB_URL=postgresql://postgres:change_this_password_in_production@postgres:5432/openwebui

# Ollama connection (if using local Ollama)
OLLAMA_BASE_URL=http://host.docker.internal:11434

# Secret key for sessions (generate a random string)
WEBUI_SECRET_KEY=change_this_to_a_random_secret_key

# ----------------------------------------------------------------------------
# n8n Configuration
# ----------------------------------------------------------------------------
# Workflow automation platform
# Web UI: http://localhost:5679

N8N_PORT=5679
N8N_DB_TYPE=postgresdb
N8N_DB_POSTGRESDB_HOST=postgres
N8N_DB_POSTGRESDB_PORT=5432
N8N_DB_POSTGRESDB_DB=n8n
N8N_DB_POSTGRESDB_USER=postgres
N8N_DB_POSTGRESDB_PASSWORD=imad.123

# Basic authentication
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=password

# Ngrok / Domain Configuration
N8N_EDITOR_BASE_URL=https://your-domain.ngrok-free.dev
WEBHOOK_URL=https://your-domain.ngrok-free.dev
# N8N_EXPRESS_TRUST_PROXY=true

# ----------------------------------------------------------------------------
# Langflow Configuration
# ----------------------------------------------------------------------------
# Visual AI application framework
# Web UI: http://localhost:7860

LANGFLOW_PORT=7860
LANGFLOW_DB_NAME=langflow

# ============================================================================
# SECURITY NOTES
# ============================================================================
# 1. Change ALL passwords before deploying to production
# 2. Use strong, unique passwords for each service
# 3. Never commit .env files to version control
# 4. Use secrets management in production (e.g., Docker secrets, Vault)
# 5. Regularly rotate credentials
# ============================================================================
